
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Notes on assisting software development through AI, written using the MkDocs framework">
      
      
        <meta name="author" content="Dyson Liu">
      
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../../cli-tools/python-venv/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.36">
    
    
      
        <title>Azure OpenAI - AI Driver Note</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.06209087.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#azure-openai" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AI Driver Note" class="md-header__button md-logo" aria-label="AI Driver Note" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AI Driver Note
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Azure OpenAI
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/microsystex/ai-driver-note" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AI Driver Note" class="md-nav__button md-logo" aria-label="AI Driver Note" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    AI Driver Note
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/microsystex/ai-driver-note" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Azure OpenAI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Azure OpenAI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Azure OpenAI
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Azure OpenAI
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-overview" class="md-nav__link">
    <span class="md-ellipsis">
      1. Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-key-advantages" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Key Advantages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      2. Getting Started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-setup" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-using-azure-openai-api" class="md-nav__link">
    <span class="md-ellipsis">
      3. Using Azure OpenAI API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Using Azure OpenAI API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-chat-vs-non-chat-mode" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Chat vs Non-Chat Mode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 Chat vs Non-Chat Mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311-chat-mode" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1 Chat Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312-non-chat-mode" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.2 Non-Chat Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#313-choosing-modes" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3 Choosing Modes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-azure-openai-vs-openais-api" class="md-nav__link">
    <span class="md-ellipsis">
      4. Azure OpenAI vs OpenAI’s API
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CLI Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            CLI Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli-tools/python-venv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python venv Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli-tools/cli-with-python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI Tools with Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Azure DevOps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Azure DevOps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../azure-devops/pipeline-permission/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline Permissions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../azure-devops/cli-artifacts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI Deployment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-overview" class="md-nav__link">
    <span class="md-ellipsis">
      1. Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-key-advantages" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Key Advantages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      2. Getting Started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-setup" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-using-azure-openai-api" class="md-nav__link">
    <span class="md-ellipsis">
      3. Using Azure OpenAI API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Using Azure OpenAI API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-chat-vs-non-chat-mode" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Chat vs Non-Chat Mode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 Chat vs Non-Chat Mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311-chat-mode" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1 Chat Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312-non-chat-mode" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.2 Non-Chat Mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#313-choosing-modes" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3 Choosing Modes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-azure-openai-vs-openais-api" class="md-nav__link">
    <span class="md-ellipsis">
      4. Azure OpenAI vs OpenAI’s API
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="azure-openai">Azure OpenAI<a class="headerlink" href="#azure-openai" title="Permanent link">&para;</a></h1>
<h2 id="1-overview">1. Overview<a class="headerlink" href="#1-overview" title="Permanent link">&para;</a></h2>
<p>Azure OpenAI is a collaboration between Microsoft Azure and OpenAI, providing access to powerful language models like GPT-4 and Codex on Azure’s secure cloud platform. This service enables developers to build applications such as chatbots, automated customer service, content generation, and more.</p>
<h3 id="11-key-advantages">1.1 Key Advantages<a class="headerlink" href="#11-key-advantages" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Security and Compliance</strong>: Enterprise-grade security with Azure compliance certifications.</li>
<li><strong>Scalability</strong>: Horizontally scalable to meet application needs.</li>
<li><strong>Seamless Integration</strong>: Direct integration with Azure services, including Cognitive Services and Data Factory.</li>
</ul>
<h2 id="2-getting-started">2. Getting Started<a class="headerlink" href="#2-getting-started" title="Permanent link">&para;</a></h2>
<h3 id="21-requirements">2.1 Requirements<a class="headerlink" href="#21-requirements" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Azure Subscription</strong>: Required to activate the service.</li>
<li><strong>Access Permissions</strong>: Specific permissions may be needed for service usage.</li>
</ol>
<h3 id="22-setup">2.2 Setup<a class="headerlink" href="#22-setup" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Create Resource</strong>:</p>
<ul>
<li>Sign in to the Azure portal, search for "Azure OpenAI," and create a new resource.</li>
<li>Configure resource name, region, and pricing plan.</li>
</ul>
</li>
<li>
<p><strong>Select Model</strong>:</p>
<ul>
<li>Choose the appropriate model (e.g., GPT-4 or Codex) on the resource page.</li>
<li>Configure model parameters as needed (e.g., response length, quality).</li>
</ul>
</li>
<li>
<p><strong>Get API Key</strong>:</p>
<ul>
<li>Generate your API Key from the Azure portal and save it to an environment variable on your local machine or container.</li>
</ul>
</li>
</ol>
<h2 id="3-using-azure-openai-api">3. Using Azure OpenAI API<a class="headerlink" href="#3-using-azure-openai-api" title="Permanent link">&para;</a></h2>
<h3 id="31-chat-vs-non-chat-mode">3.1 Chat vs Non-Chat Mode<a class="headerlink" href="#31-chat-vs-non-chat-mode" title="Permanent link">&para;</a></h3>
<p>Azure OpenAI supports both Chat and Non-Chat modes, each suited for different scenarios.</p>
<h4 id="311-chat-mode">3.1.1 Chat Mode<a class="headerlink" href="#311-chat-mode" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Use Case</strong>: Ideal for conversational interactions that require context management, such as chatbots.</li>
<li><strong>How It Works</strong>: Each request includes a message list (<code>messages</code>) with past interactions and user inputs.</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">azure.identity</span> <span class="kn">import</span> <span class="n">DefaultAzureCredential</span>
<span class="kn">from</span> <span class="nn">azure.ai.openai</span> <span class="kn">import</span> <span class="n">OpenAIClient</span>

<span class="c1"># Set up Azure OpenAI parameters</span>
<span class="n">AZURE_OPENAI_ENDPOINT</span> <span class="o">=</span> <span class="s2">&quot;https://&lt;your Azure OpenAI endpoint&gt;.openai.azure.com/&quot;</span>
<span class="n">AZURE_OPENAI_API_KEY</span> <span class="o">=</span> <span class="s2">&quot;&lt;your API Key&gt;&quot;</span>

<span class="c1"># Initialize OpenAIClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">OpenAIClient</span><span class="p">(</span>
    <span class="n">endpoint</span><span class="o">=</span><span class="n">AZURE_OPENAI_ENDPOINT</span><span class="p">,</span> 
    <span class="n">credential</span><span class="o">=</span><span class="n">AZURE_OPENAI_API_KEY</span>
<span class="p">)</span>

<span class="c1"># Set up model deployment name and request content</span>
<span class="n">deployment_id</span> <span class="o">=</span> <span class="s2">&quot;&lt;your deployment name&gt;&quot;</span> 
<span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an assistant.&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Describe AI&#39;s future in three sentences.&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="c1"># Call the API to get a response</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chat_completions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">deployment_id</span><span class="o">=</span><span class="n">deployment_id</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">,</span>
    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">50</span>
<span class="p">)</span>

<span class="c1"># Display the API response result</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre></div>

<h4 id="312-non-chat-mode">3.1.2 Non-Chat Mode<a class="headerlink" href="#312-non-chat-mode" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Use Case</strong>: Suitable for single-response interactions or content generation without context tracking.</li>
<li><strong>How It Works</strong>: Uses a <code>prompt</code> parameter to supply input without context handling.</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">azure.identity</span> <span class="kn">import</span> <span class="n">DefaultAzureCredential</span>
<span class="kn">from</span> <span class="nn">azure.ai.openai</span> <span class="kn">import</span> <span class="n">OpenAIClient</span>

<span class="c1"># Set up Azure OpenAI parameters</span>
<span class="n">AZURE_OPENAI_ENDPOINT</span> <span class="o">=</span> <span class="s2">&quot;https://&lt;your Azure OpenAI endpoint&gt;.openai.azure.com/&quot;</span>
<span class="n">AZURE_OPENAI_API_KEY</span> <span class="o">=</span> <span class="s2">&quot;&lt;your API Key&gt;&quot;</span>

<span class="c1"># Initialize OpenAIClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">OpenAIClient</span><span class="p">(</span>
    <span class="n">endpoint</span><span class="o">=</span><span class="n">AZURE_OPENAI_ENDPOINT</span><span class="p">,</span> 
    <span class="n">credential</span><span class="o">=</span><span class="n">AZURE_OPENAI_API_KEY</span>
<span class="p">)</span>

<span class="c1"># Set up model name and request content</span>
<span class="n">deployment_id</span> <span class="o">=</span> <span class="s2">&quot;&lt;your deployment name&gt;&quot;</span>  
<span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;Describe AI&#39;s future in three sentences.&quot;</span>

<span class="c1"># Call the API to get a response</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">completions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">deployment_id</span><span class="o">=</span><span class="n">deployment_id</span><span class="p">,</span>
    <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">50</span>
<span class="p">)</span>

<span class="c1"># Display the API response result</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre></div>

<h4 id="313-choosing-modes">3.1.3 Choosing Modes<a class="headerlink" href="#313-choosing-modes" title="Permanent link">&para;</a></h4>
<p><strong>Chat Mode</strong> is best for interactions needing context retention, while <strong>Non-Chat Mode</strong> is suitable for one-off responses, Q&amp;A, or generation tasks. When the chat's messages only include a single user content, there is little difference between chat and non-chat modes.</p>
<p>In Chat Mode, if the number of messages becomes too large, it is important to summarize the conversation appropriately to avoid generating too many tokens. Here are some strategies to condense previous conversations:</p>
<ol>
<li><strong>Summarize Key Points</strong>: Extract the main ideas and key points from the previous messages and create a concise summary.</li>
<li><strong>Remove Redundant Information</strong>: Eliminate any repetitive or unnecessary information that does not contribute to the context.</li>
<li><strong>Use Bullet Points</strong>: Convert detailed explanations into bullet points to make the information more compact.</li>
<li><strong>Combine Messages</strong>: Merge related messages into a single message to reduce the overall number of tokens.</li>
<li><strong>Focus on Relevant Context</strong>: Retain only the parts of the conversation that are directly relevant to the current interaction.</li>
</ol>
<p>By applying these strategies, you can maintain the essential context while minimizing the token usage in Chat Mode.</p>
<p>Here is a Python example that condenses a conversation history by removing duplicate messages, adds a new user message, and calls the OpenAI Chat API with the updated conversation. The condensing strategy also includes selecting only the first sentence from each message to keep the conversation concise. </p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">azure.identity</span> <span class="kn">import</span> <span class="n">DefaultAzureCredential</span>
<span class="kn">from</span> <span class="nn">azure.ai.openai</span> <span class="kn">import</span> <span class="n">OpenAIClient</span>

<span class="c1"># Set up Azure OpenAI parameters</span>
<span class="n">AZURE_OPENAI_ENDPOINT</span> <span class="o">=</span> <span class="s2">&quot;https://&lt;your Azure OpenAI endpoint&gt;.openai.azure.com/&quot;</span>
<span class="n">AZURE_OPENAI_API_KEY</span> <span class="o">=</span> <span class="s2">&quot;&lt;your API Key&gt;&quot;</span>

<span class="c1"># Initialize OpenAIClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">OpenAIClient</span><span class="p">(</span>
    <span class="n">endpoint</span><span class="o">=</span><span class="n">AZURE_OPENAI_ENDPOINT</span><span class="p">,</span> 
    <span class="n">credential</span><span class="o">=</span><span class="n">AZURE_OPENAI_API_KEY</span>
<span class="p">)</span>

<span class="c1"># Condense the conversation</span>
<span class="k">def</span> <span class="nf">condense_conversation</span><span class="p">(</span><span class="n">conversation_history</span><span class="p">):</span>
    <span class="n">seen_contents</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>   <span class="c1"># A set to store unique message contents</span>
    <span class="n">cleaned_history</span> <span class="o">=</span> <span class="p">[]</span>    <span class="c1"># Cleaned conversation history</span>

    <span class="c1"># Remove duplicate messages</span>
    <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">conversation_history</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">message</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_contents</span><span class="p">:</span>
            <span class="n">cleaned_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
            <span class="n">seen_contents</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">])</span>

    <span class="c1"># Condensed by selecting the first sentence of each message</span>
    <span class="n">summary</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">msg</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> 
        <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">cleaned_history</span> 
        <span class="k">if</span> <span class="n">msg</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Create a condensed conversation by combining role and content</span>
    <span class="n">condensed_conversation</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">msg</span><span class="p">[</span><span class="s1">&#39;role&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">msg</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> 
        <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">cleaned_history</span>
    <span class="p">)</span>    

    <span class="k">return</span> <span class="n">cleaned_history</span>

<span class="c1"># Original conversation history</span>
<span class="n">conversation_history</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello, I need some help with my account.&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;assistant&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Sure, I can help you with your account. What seems to be the issue?&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I forgot my password and cannot log in.&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;assistant&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;No problem, I can assist you with resetting your password.&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I forgot my password and cannot log in.&quot;</span>
    <span class="p">}</span>
<span class="p">]</span>

<span class="c1"># Get cleaned conversation</span>
<span class="n">cleaned_history</span> <span class="o">=</span> <span class="n">condense_conversation</span><span class="p">(</span><span class="n">conversation_history</span><span class="p">)</span>

<span class="c1"># Add new conversation message</span>
<span class="n">new_message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Can you tell me how long the reset process will take?&quot;</span>
<span class="p">}</span>
<span class="n">cleaned_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_message</span><span class="p">)</span>

<span class="c1"># Call Azure OpenAI API with updated conversation</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chat_completions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">deployment_id</span><span class="o">=</span><span class="s2">&quot;&lt;your deployment name&gt;&quot;</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="n">cleaned_history</span><span class="p">,</span>
    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">50</span>
<span class="p">)</span>

<span class="c1"># Get API response content</span>
<span class="n">response_content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="c1"># Display the response</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response_content</span><span class="p">)</span>
</code></pre></div>

<h2 id="4-azure-openai-vs-openais-api">4. Azure OpenAI vs OpenAI’s API<a class="headerlink" href="#4-azure-openai-vs-openais-api" title="Permanent link">&para;</a></h2>
<p>Azure OpenAI differs from OpenAI’s ChatGPT API in these key aspects:</p>
<ul>
<li><strong>Access</strong>: Azure OpenAI requires an Azure account and specific access permissions, while OpenAI’s API is accessible directly through OpenAI’s website.</li>
<li><strong>Integration</strong>: Azure OpenAI integrates seamlessly with other Azure services, such as Key Vault and Monitor.</li>
<li><strong>Enterprise Management</strong>: Azure OpenAI offers enterprise-grade features, including resource monitoring, network security, and compliance.</li>
<li><strong>Endpoint URL</strong>: Azure OpenAI uses a specific API URL format, like <code>https://&lt;your-azure-endpoint&gt;/openai/deployments/&lt;deployment-id&gt;/...</code>, and requires an <code>api-version</code> specification, whereas OpenAI’s ChatGPT API uses a simpler endpoint structure like <code>https://api.openai.com/v1/...</code>.</li>
<li><strong>Deployment Management</strong>: In Azure OpenAI, each model requires setting up a "deployment" with a unique <code>deployment-id</code> identifier, while OpenAI's API directly specifies the model name without needing a separate deployment configuration.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>